(this.webpackJsonpbooksearch=this.webpackJsonpbooksearch||[]).push([[0],{163:function(e,t,a){e.exports=a(196)},196:function(e,t,a){"use strict";a.r(t);var n=a(0),o=a.n(n),r=a(53),c=a.n(r),l=a(87),i=a(9),u=a(57),s=a(211),m=a(218),h=a(213);var d=function(e){var t=Object(n.useState)(""),a=Object(u.a)(t,2),r=a[0],c=a[1];return o.a.createElement(s.a,null,o.a.createElement(h.a,{onSubmit:function(t){t.preventDefault(),e.bookSearch(r),c("")},style:{backgroundPosition:"bottom",backgroundImage:"url(https://specials-images.forbesimg.com/imageserve/1126130554/960x0.jpg?cropX1=0&cropX2=5472&cropY1=547&cropY2=3625)",padding:50}},o.a.createElement(h.a.Group,null,o.a.createElement(h.a.Input,{focus:!0,placeholder:"Search...",value:r,type:"text",name:"search",color:"blue",onChange:function(e){var t=e.target.value;c(t)}}),o.a.createElement(h.a.Button,{icon:"search",type:"submit",content:"Search",color:"blue"}))))},b=a(215),p=a(216),f=a(80),E=a(212);function g(e){var t=e.children;return o.a.createElement(b.a.Group,{divided:!0,style:{paddingTop:30}},t)}function k(e){var t=e.title,a=e.authors,n=e.description,r=e.image,c=e.link,l=e.deleteBook,u=e.handleSave,s=e.id,m=e.index,h=e.books,d=Object(i.f)();return o.a.createElement(b.a,null,o.a.createElement(b.a.Image,{size:"small",verticalAlign:"middle",src:r}),o.a.createElement(b.a.Content,null,o.a.createElement(b.a.Extra,null,o.a.createElement(p.a.Group,{floated:"right"},o.a.createElement(p.a,{color:"blue",size:"tiny",href:c},o.a.createElement(f.a,{name:"external alternate"}),"View"),"/api/books"===d.pathname?o.a.createElement(p.a,{color:"red",size:"tiny",id:s,onClick:function(){l(s)}},o.a.createElement(f.a,{name:"remove"}),"Remove"):o.a.createElement(E.a,{trigger:o.a.createElement(p.a,{color:"green",icon:"save",content:"Save",id:s,index:m,books:h,onClick:function(){u(m)}}),content:o.a.createElement(p.a,{color:"orange",content:"Book has been saved to your list"}),on:"click",position:"top right"}))),o.a.createElement(b.a.Header,{href:c,name:"title",as:"a"},t),o.a.createElement(b.a.Meta,null,o.a.createElement("span",{className:"author"},a)),o.a.createElement(b.a.Description,null,n)))}var v=a(86),y=a.n(v),S=function(e){return y.a.get("https://www.googleapis.com/books/v1/volumes?q=".concat(e)).then((function(e){return e.data}))},O=function(){return y.a.get("/api/books").then((function(e){return e.data}))},j=function(e){return y.a.post("/api/books",e).then((function(e){return e.data}))},x=function(e){return y.a.delete("/api/books/".concat(e)).then((function(e){return e.data}))};var I=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)({title:"",authors:[],description:"",link:"",image:""}),l=Object(u.a)(c,2),i=(l[0],l[1]);function h(e){j({id:a[e].id,title:a[e].title,authors:a[e].authors,description:a[e].description,link:a[e].link,image:a[e].image}).then((function(e){r(a)})).catch((function(e){return console.log(e.res)}))}return Object(n.useEffect)((function(e){i(e)}),[a]),o.a.createElement(o.a.Fragment,null,o.a.createElement(d,{bookSearch:function(e){S(e).then((function(e){console.log(e),r(e.items.map((function(e){return function(e){var t;return{_id:e.id,title:e.volumeInfo.title,authors:e.volumeInfo.authors,description:e.volumeInfo.description,image:(null===(t=e.volumeInfo.imageLinks)||void 0===t?void 0:t.smallThumbnail)||"https://books.google.com/googlebooks/images/no_cover_thumb.gif",link:e.volumeInfo.previewLink}}(e)})))})).catch((function(e){return console.error(e)}))},style:{marginBottom:30}}),o.a.createElement(s.a,null,a.length?o.a.createElement(g,{books:a},a.map((function(e,t){return o.a.createElement(k,{handleSave:h,key:t,id:e._id,index:t,title:e.title,authors:e.authors,description:e.description,link:e.link,image:e.image,book:e})}))):o.a.createElement(m.a,{style:{paddingTop:30},as:"h3"},"Search for a book to begin!")))},w=a(214);var B=function(){return o.a.createElement(w.a,{pointing:!0,secondary:!0},o.a.createElement(w.a.Item,{icon:"search",name:"search",href:"/"}),o.a.createElement(w.a.Item,{icon:"book",name:"saved",href:"/api/books"}))};function C(e){var t=e.children,a=Object(i.f)();return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",null,o.a.createElement(m.a,{as:"h1",icon:"book",style:{backgroundColor:"",paddingTop:30},color:"blue",content:"GOOGLE BOOK SEARCH"}),"/api/books"!==a.pathname?o.a.createElement(m.a.Subheader,{as:"h3"},"Search for books and save those of interest to your list."):o.a.createElement(m.a.Subheader,{as:"h3"},"Your saved book list:")),t)}var T=function(){var e=Object(n.useState)([]),t=Object(u.a)(e,2),a=t[0],r=t[1];function c(){O().then((function(e){r(e)})).catch((function(e){return console.log(e)}))}function l(e){x(e).then((function(e){return c(e.data)})).catch((function(e){return console.log(e)}))}return Object(n.useEffect)((function(){c()}),[]),o.a.createElement(s.a,null,a.length?o.a.createElement(g,{books:a},a.map((function(e,t){return o.a.createElement(k,{deleteBook:l,key:t,id:e._id,index:t,title:e.title,authors:e.authors,description:e.description,link:e.link,image:e.image})}))):o.a.createElement(m.a,{style:{paddingTop:30},as:"h3"},"There are no books in your saved list."))},G=a(219),_=a(109);function z(){return o.a.createElement(o.a.Fragment,null,o.a.createElement(G.a,{color:"blue"},o.a.createElement(_.a,{as:"a",href:"https://github.com/pdxbellasaurus",color:"blue",content:"Made with \u2764 by PDXbellasaurus",icon:"github",ribbon:!0})))}a(195);var D=function(){return o.a.createElement(l.a,null,o.a.createElement(s.a,null,o.a.createElement(B,null),o.a.createElement(C,null),o.a.createElement(i.c,null,o.a.createElement(i.a,{exact:!0,path:["/","/books"]},o.a.createElement(I,null)),o.a.createElement(i.a,{exact:!0,path:["/api/books"]},o.a.createElement(T,null))),o.a.createElement(z,null)))};c.a.render(o.a.createElement(D,null),document.getElementById("root"))}},[[163,1,2]]]);
//# sourceMappingURL=main.d0c2d710.chunk.js.map